{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/img/error.svg","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '45273234-8772896c6b05d52973b361fbb';\nconst BASE_URL = 'https://pixabay.com/api/';\nexport async function fetchImages(page = 1, perPage = 15, query) {\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        q: query,\n        page,\n        per_page: perPage,\n      },\n    });\n\n    return response.data;\n  } catch (error) {\n    throw new Error(error.response?.status || error.message);\n  }\n}\n","export default \"__VITE_ASSET__8479b7dd__\"","import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\nimport iconError from '../img/error.svg';\n\niziToast.settings({\n  class: 'custom-toast',\n  position: 'topRight',\n  maxWidth: 432,\n  color: '#FFFFFF',\n  titleColor: '#FFFFFF',\n  messageColor: '#FFFFFF',\n  iconColor: '#FFFFFF',\n  displayMode: 1,\n});\n\nexport function renderGallery(images) {\n  const gallery = document.getElementById('gallery');\n  const markup = images\n    .map(\n      image => `\n\t\t\t\t<a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n\t\t\t\t\t<div class=\"media\">\n\t\t\t\t\t\t<img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"info\">\n\t\t\t\t\t\t<p class=\"info-item\"><b>Likes</b><br/> ${image.likes}</p>\n\t\t\t\t\t\t<p class=\"info-item\"><b>Views</b><br/> ${image.views}</p>\n\t\t\t\t\t\t<p class=\"info-item\"><b>Comments</b><br/> ${image.comments}</p>\n\t\t\t\t\t\t<p class=\"info-item\"><b>Downloads</b><br/> ${image.downloads}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t`\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  document.getElementById('loader').classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  document.getElementById('loader').classList.add('hidden');\n}\n\nexport function showLoadMore() {\n  document.getElementById('load-more').classList.remove('hidden');\n}\n\nexport function hideLoadMore() {\n  document.getElementById('load-more').classList.add('hidden');\n}\n\nexport function showNotification(message) {\n  iziToast.info({\n    message,\n    backgroundColor: '#6C8CFF',\n    iconColor: 'white',\n  });\n}\n\nexport function showErrorNotification(message) {\n  iziToast.error({\n    message,\n    backgroundColor: '#EF4040',\n    iconUrl: iconError,\n  });\n}\n\nexport function smoothScroll() {\n  const galleryItem = document.querySelector('.gallery-item');\n\n  if (galleryItem) {\n    const { height } = galleryItem.getBoundingClientRect();\n\n    window.scrollBy({\n      top: height * 2,\n      behavior: 'smooth',\n    });\n  }\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport {\n  renderGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n  hideLoadMore,\n  showLoadMore,\n  showNotification,\n  showErrorNotification,\n  smoothScroll,\n} from './js/render-functions.js';\n\nconst DEFAULT_PER_PAGE = 15;\n\nlet currentPage = 1;\nlet currentQuery = '';\n\nasync function getImages() {\n  hideLoadMore();\n  showLoader();\n\n  try {\n    const data = await fetchImages(currentPage, DEFAULT_PER_PAGE, currentQuery);\n\n    if (data.hits.length === 0) {\n      showErrorNotification(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n    } else {\n      renderGallery(data.hits);\n\n      currentPage++;\n\n      if (currentPage <= Math.ceil(data.totalHits / DEFAULT_PER_PAGE)) {\n        showLoadMore();\n      } else {\n        showNotification(\n          \"We're sorry, but you've reached the end of search results.\"\n        );\n      }\n    }\n  } catch (error) {\n    showErrorNotification('Failed to fetch images');\n  } finally {\n    hideLoader();\n  }\n}\n\ndocument\n  .getElementById('search-form')\n  .addEventListener('submit', async event => {\n    event.preventDefault();\n\n    clearGallery();\n\n    const query = document.getElementById('search-input').value.trim();\n\n    currentQuery = query;\n    currentPage = 1;\n\n    if (!query) {\n      showErrorNotification('Search query cannot be empty');\n      return;\n    }\n\n    await getImages();\n  });\n\ndocument.getElementById('load-more').addEventListener('click', async () => {\n  await getImages();\n\n  smoothScroll();\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","page","perPage","query","axios","error","_a","iconError","iziToast","renderGallery","images","gallery","markup","image","SimpleLightbox","clearGallery","showLoader","hideLoader","showLoadMore","hideLoadMore","showNotification","message","showErrorNotification","smoothScroll","galleryItem","height","DEFAULT_PER_PAGE","currentPage","currentQuery","getImages","data","event"],"mappings":"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"}